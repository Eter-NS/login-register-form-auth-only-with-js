// @use "../common/reset";
@use "../common/variables" as var;
@use "../common/theme";

.form {
  @include var.flexbox(column);
  row-gap: 3vmin;

  &--input-container {
    padding-top: calc(var.$font-size + 0.5rem);
    @include var.flexbox(column);
    position: relative;
  }

  &__placeholder {
    position: absolute;
    align-self: flex-start;
    line-height: calc(var.$font-size + 0.5rem);
    max-width: 100%;
    padding-left: 5px;
    color: var.getCSSVar(font);
    opacity: 0.7;
    cursor: pointer;
    transform-origin: 0 0;

    transition: transform 350ms cubic-bezier(0.4, -0.35, 0.6, 1.35);
  }

  &--input {
    display: block;
    @include var.rounded();
    padding-block: 0;
    width: 100%;
    line-height: calc(var.$font-size + 0.5rem);
    border: 0;
    cursor: pointer;
    background-color: var.getCSSVar(window-element);
    color: var.getCSSVar(font);
    transition: outline 250ms 50ms ease-out;

    &::placeholder {
      color: transparent;
    }

    &:focus {
      caret-color: var.getCSSVar(font);
      outline: 3px solid var.getCSSVar(accent);
      background-color: var.getCSSVar(window-element-hover);
    }

    &:focus + .form__placeholder,
    &:not(:placeholder-shown) + .form__placeholder {
      transform: translateY(-100%);
    }
  }

  &__submit {
    display: block;
    position: relative;
    border: 0;
    @include var.rounded();
    margin-top: 5vmin;
    color: var.getCSSVar(button-font-color);
    background-color: var.getCSSVar(button);
    cursor: pointer;
    overflow: hidden;
    transition: transform 300ms ease-in-out;

    &::before {
      content: "";
      display: block;
      position: absolute;
      bottom: 50%;
      left: 0;
      width: 100%;
      height: 25%;
      background-color: var.getCSSVar(accent);
      transform: translateX(-100%) rotate(-60deg);
      transition: transform 500ms ease-in-out;
    }

    &:hover,
    &:focus {
      transform: scale(1.3);
      &::before {
        transform: translateX(100%) rotate(-60deg);
      }
    }
  }
}
